Структурный вопрос:
1. У меня на винде контейнер селениума работает, а на маке - ошибка.
Пока не искал решения, вообще должно все работать на любой системе
где развернули.
2. Файлы .env в корне и в expert_system частично повторяют
друг-друга. При этом указать разные данные нельзя - иначе не
взлетит проект. Надо бы избавиться от одного из них, чтобы
заносить все необходимые переменные в одном месте.
3. Для скрытности контейнера селениума доступ к нему сделал
через адрес в браузере selenium-grid. По идее нам бы вообще
закрыть к нему доступ извне. Зачем кому-то снаружи иметь к
нему доступ, когда проект будет на сервере развернут.


Модели в expert_system:
1. Модель RequestPosition дополнить связью с TelegramUser
(запрос ведь конктретный юзер делает). Может правильно сделать
уникальным сочетанеие articul и text, но тогда с таким сочетанием
должны быть несколько TelegramUser.
2. Добавить модель Subscriptions, которая будет содержать поля
request_position_id, frequency и last_refresh
3. Все изменения в моделях зарегистрировать в админке.

URLы в expert_system:
1. Добавить урлы подписок.
2. Сделать вьюхи и сериализеры подписок.
3. Скорректировать сериализер RequestPositionSerializer
(после добавления поля пользователя в модель).


Проверка подписки bot:
1. Сделать постоянную проверку подписки на целевой канал,
для доступа к функциям бота. Возможно через декоратор. Т.е.
если пользователь после начала пользования ботом отписался от
канала, он не должен мочь использовать бота, пока не подпишется
снова.

Подписки на артикул-тэг в bot:
!Сделано 1. Добавление подписки в БД должно быть только после указания
!периодичности (1,6, 12 часов). До этого вроде как не имеет смысла
!собирать статистику позиций, которые пользователь запрашивал,
!но не подписался (или имеет?). Вот тут возникает проблема:
!когда у нас есть user_data еще нет frequency, а когда есть
!frequency уже нет user_data. Пока думаю как реализовать. Потому
!в мердже еще не готовый функционал.

2. Не релизован результат подписки. Бот, когда не активен никуда
и ничего выслать не может. Получается при подписке мы должны
отправлять результат периодичного парсинга высылать почту? тогда
в модели нам надо добавить адрес почты для TelegramUser и
разработать периодичную отправку ему писем. Тогда из бота еще надо
добавить возможность указать/посмотреть/изменить почтовый адрес.
Также при оформлении подписки проверять, если пользователь не
указал почту - попросить указать, а если почта есть в бд, то не
спрашивать.
3. Не реализована работа пункта меню по изначальному ТЗ об
оформленных подписках. Пока ниченго не выдает.

Константы bot:
1. CITY позволяет парсить остатки по перечню городов (словарь
город-пвз). Он един для всех пользователей. Имеет смысл создать
модель для CITY и добавлять в БД. Каждый пользователь сможет
указывать какие города ему интересны, а в боте реализовать
возможность указать город, если, его нет в списке - добавить,
с указанием ПВЗ. Выводить/редактировать список городов, на которые
подписан пользователь. И соотвественно парсить только интересующие
города.

2. WAREHOUSES - словарь номер склада - название. Посикать откуда
он заполнен и возможно реализовать функцию автоматического
заполнения этих складов. Возможно имеет смысл в модели его
пихнуть, не совсем константа он. Используется в stock.py

Инфосообщения bot:
1. Добавить инфосообщения в бота с кнопкой возврата в меню
(как в парсере позиций). Когда в парсере остатков вводим артикул и в
коэффициентах номер склада, пока идет парсинг, надо сообщить что результат будет
позже и дать кнопку меню.
